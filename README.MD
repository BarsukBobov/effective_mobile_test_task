# EFFECTIVE MOBILE TEST TASK API

### 1. Запуск Develop Docker compose

1. Нужно добавить в корень проекта .env файл. Для проверки достаточно скопировать содержимое .env.example, 
но в переменной EM_API указать полный адрес запроса к внешнему API(пример:https://effective-mobile.ru/info).
При изменении пользователя и имени бд в env, нужно ещё менять dsn в конфиге [приложения](conf/app_config.json).
2. Далее выполните команду `make start`. Запустится сборка контейнеров в dev композе. Он состоит из вотчера и скомпилированной
либы для свагера. Вотчер перекомпилирует проект и обновит свагер при изменении контрольной суммы любого go файла.
Свагер будет доступен по адресу http://localhost:3000/swagger/index.html#/.


### 2. Запуск Production Docker compose

1. Чтобы запустить Production версию в .env нужно установить переменную PRODUCTION в true, и также выполнить `make start`.
Облегченный образ будет представлять собой только бинарник, конфиги, миграции. Свагер на prod версии не доступен.
Gin в режиме Release. Порт БД внешне закрыт, добавлен volume для сохранения данных локально. 
При добавлении изменений в проект `make build start`.
  